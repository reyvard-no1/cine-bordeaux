<div class="mb-8">
  <h1 class="text-4xl font-bold text-gray-900 mb-2">
    <%= case params[:filter]
        when 'upcoming' then 'üé¨ Prochaines Sorties'
        when 'now_playing' then 'üçø Actuellement en Salle'
        else '‚≠ê Films Populaires'
        end %>
  </h1>
  <p class="text-gray-600">D√©couvrez les films du moment et √† venir</p>
</div>

<% if @movies.present? %>
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
    <% @movies.each do |movie| %>
      <%= link_to movie_path(movie['id']), class: "group" do %>
        <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
          <!-- Affiche du film -->
          <div class="aspect-[2/3] bg-gray-200 relative overflow-hidden">
            <% if movie['poster_path'] %>
              <%= image_tag "https://image.tmdb.org/t/p/w500#{movie['poster_path']}",
                  alt: movie['title'],
                  class: "w-full h-full object-cover group-hover:scale-105 transition-transform duration-300" %>
            <% else %>
              <div class="w-full h-full flex items-center justify-center bg-gray-300 text-gray-500">
                üé¨
              </div>
            <% end %>

            <!-- Note -->
            <% if movie['vote_average'] %>
              <div class="absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded-full text-sm font-bold">
                ‚≠ê <%= movie['vote_average'].round(1) %>
              </div>
            <% end %>
          </div>

          <!-- Info du film -->
          <div class="p-4">
            <h3 class="font-semibold text-gray-900 line-clamp-2 mb-1 group-hover:text-yellow-600 transition">
              <%= movie['title'] %>
            </h3>
            <p class="text-sm text-gray-500">
              <%= movie['release_date'] ? Date.parse(movie['release_date']).year : 'N/A' %>
            </p>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
<% else %>
  <div class="text-center py-12">
    <p class="text-gray-500 text-xl">Aucun film trouv√©</p>
  </div>
<% end %>
